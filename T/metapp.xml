<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<doc>
<rowtype xpath="metapp" max="1">
 <variable xpath="@key" substitution="%key" />
 <variable xpath="doctitle" substitution="%doctitle" />
 <variable xpath="js" substitution="%js" />
	<variable xpath="css" substitution="%css" />
	<variable xpath="html" substitution="%html" />
	<html><div id="#UNIQUEID#" class="appeditor">
	 <input type="hidden" value="%key" />
	 <input type="text" value="%doctitle" placeholder="doctitle" />
	 <textarea class="app-javascript" placeholder="javascript..."></textarea>
		<textarea class="app-style" placeholder="css..."></textarea>
		<textarea class="app-html" placeholder="html..."></textarea>
		<button onclick="app.saveapp('#UNIQUEID#')"><i class="fa fa-floppy"> </i></button>
		<button title="run!" onclick="f$.db.getone('%key',function(o){tau.syncrender(document.getElementById('hiddentarget'),tau.preloaded('T/metapp-run.xml'),tau.JSON2xmldoc(o,'metapp'))});"><i class="fa fa-play"> </i></button>
		</div></html>
		<onloadall>
			app.saveapp=function(id){
				var x=document.getElementById(id);
				var dd=x.getElementsByTagName('textarea');
				var kk=x.getElementsByTagName('input');
				var o={$key:kk[0].value,doctitle:kk[1].value};
				o.js=dd[0].value;o.css=dd[1].value;o.html=dd[2].value;
				f$.db.set(o);};
		</onloadall>
</rowtype>
</doc>